{"ast":null,"code":"var _jsxFileName = \"/Users/simsujeong/Desktop/BUWebProgramGroup5-test/src/Movie.js\";\nimport React, { useState, useEffect } from \"react\";\nimport MovieDetails from \"./MovieDetail\";\nimport \"./Movie.css\"; // 스타일 파일 import\n\nfunction Movie({\n  moviecd,\n  title,\n  audiCnt,\n  rank,\n  setSelectedMovie\n}) {\n  const [showDetails, setShowDetails] = useState(false);\n  const [previousPage, setPreviousPage] = useState(null);\n  const handleShowDetails = () => {\n    setPreviousPage(window.location.pathname); // 현재 페이지 경로를 저장\n    setShowDetails(true);\n    setSelectedMovie(moviecd); // 선택한 영화의 moviecd를 저장\n  };\n  const handleGoBack = () => {\n    setShowDetails(false);\n    setPreviousPage(null);\n    setSelectedMovie(null); // 선택한 영화 초기화\n  };\n  useEffect(() => {\n    const handlePopState = () => {\n      if (showDetails && previousPage) {\n        setShowDetails(false);\n        setPreviousPage(null);\n        setSelectedMovie(null); // 선택한 영화 초기화\n      }\n    };\n    window.addEventListener(\"popstate\", handlePopState);\n    return () => {\n      window.removeEventListener(\"popstate\", handlePopState);\n    };\n  }, [showDetails, previousPage, setSelectedMovie]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `movie-container ${showDetails ? 'details-open' : ''}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }, showDetails ? /*#__PURE__*/React.createElement(MovieDetails, {\n    movieId: moviecd,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 11\n    }\n  }, \"\\uC601\\uD654\\uC81C\\uBAA9: \", title, \" \", moviecd), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }\n  }, \"\\uAD00\\uAC1D\\uC218: \", audiCnt, \", \\uC77C\\uAC04 \\uBC15\\uC2A4\\uC624\\uD53C\\uC2A4 \\uB7AD\\uD0B9: \", rank), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleShowDetails,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }\n  }, \"\\uC0C1\\uC138\\uC815\\uBCF4\")), showDetails && /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleGoBack,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, \"\\uB4A4\\uB85C\\uAC00\\uAE30\"));\n}\nexport default Movie;","map":{"version":3,"names":["React","useState","useEffect","MovieDetails","Movie","moviecd","title","audiCnt","rank","setSelectedMovie","showDetails","setShowDetails","previousPage","setPreviousPage","handleShowDetails","window","location","pathname","handleGoBack","handlePopState","addEventListener","removeEventListener","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","movieId","Fragment","onClick"],"sources":["/Users/simsujeong/Desktop/BUWebProgramGroup5-test/src/Movie.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport MovieDetails from \"./MovieDetail\";\r\nimport \"./Movie.css\"; // 스타일 파일 import\r\n\r\nfunction Movie({ moviecd, title, audiCnt, rank, setSelectedMovie }) {\r\n  const [showDetails, setShowDetails] = useState(false);\r\n  const [previousPage, setPreviousPage] = useState(null);\r\n\r\n  const handleShowDetails = () => {\r\n    setPreviousPage(window.location.pathname); // 현재 페이지 경로를 저장\r\n    setShowDetails(true);\r\n    setSelectedMovie(moviecd); // 선택한 영화의 moviecd를 저장\r\n  };\r\n\r\n  const handleGoBack = () => {\r\n    setShowDetails(false);\r\n    setPreviousPage(null);\r\n    setSelectedMovie(null); // 선택한 영화 초기화\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handlePopState = () => {\r\n      if (showDetails && previousPage) {\r\n        setShowDetails(false);\r\n        setPreviousPage(null);\r\n        setSelectedMovie(null); // 선택한 영화 초기화\r\n      }\r\n    };\r\n\r\n    window.addEventListener(\"popstate\", handlePopState);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"popstate\", handlePopState);\r\n    };\r\n  }, [showDetails, previousPage, setSelectedMovie]);\r\n\r\n  return (\r\n    <div className={`movie-container ${showDetails ? 'details-open' : ''}`}>\r\n      {showDetails ? (\r\n        <MovieDetails movieId={moviecd} />\r\n      ) : (\r\n        <>\r\n          <h2>영화제목: {title} {moviecd}</h2>\r\n          <h4>관객수: {audiCnt}, 일간 박스오피스 랭킹: {rank}</h4>\r\n          <button onClick={handleShowDetails}>상세정보</button>\r\n        </>\r\n      )}\r\n\r\n      {showDetails && (\r\n        <button onClick={handleGoBack}>뒤로가기</button>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Movie;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}