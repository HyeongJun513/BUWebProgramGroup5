{"ast":null,"code":"var _jsxFileName = \"/Users/simsujeong/Desktop/BUWebProgramGroup5-test/src/Movie.js\";\nimport React, { useState, useEffect } from \"react\";\n//import PropTypes from 'prop-types';\n//import Info from \"./Info\";\n//import Main from \"./pages/Main/Main\";\nimport MovieDetails from \"./MovieDetail\";\nimport List from \"./List\";\nfunction Movie({\n  moviecd,\n  title,\n  audiCnt,\n  rank\n}) {\n  const [showDetails, setShowDetails] = useState(false);\n  const [previousPage, setPreviousPage] = useState(null);\n  const handleShowDetails = () => {\n    setPreviousPage(window.location.pathname); // 현재 페이지 경로를 저장\n    setShowDetails(true);\n  };\n  const handleGoBack = () => {\n    setShowDetails(false);\n    setPreviousPage(null);\n  };\n  useEffect(() => {\n    const handlePopState = () => {\n      if (showDetails && previousPage) {\n        setShowDetails(false);\n        setPreviousPage(null);\n      }\n    };\n    window.addEventListener(\"popstate\", handlePopState);\n    return () => {\n      window.removeEventListener(\"popstate\", handlePopState);\n    };\n  }, [showDetails, previousPage]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"div1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }, !showDetails && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }\n  }, \"\\uC601\\uD654\\uC81C\\uBAA9: \", title, \" \", moviecd), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }\n  }, \"\\uAD00\\uAC1D\\uC218: \", audiCnt, \", \\uC77C\\uAC04 \\uBC15\\uC2A4\\uC624\\uD53C\\uC2A4 \\uB7AD\\uD0B9: \", rank), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleShowDetails,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 11\n    }\n  }, \"\\uC0C1\\uC138\\uC815\\uBCF4\")), showDetails && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MovieDetails, {\n    movieId: moviecd,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleGoBack,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }\n  }, \"\\uB4A4\\uB85C\\uAC00\\uAE30\")));\n}\nexport default Movie;","map":{"version":3,"names":["React","useState","useEffect","MovieDetails","List","Movie","moviecd","title","audiCnt","rank","showDetails","setShowDetails","previousPage","setPreviousPage","handleShowDetails","window","location","pathname","handleGoBack","handlePopState","addEventListener","removeEventListener","createElement","id","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Fragment","onClick","movieId"],"sources":["/Users/simsujeong/Desktop/BUWebProgramGroup5-test/src/Movie.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n//import PropTypes from 'prop-types';\r\n//import Info from \"./Info\";\r\n//import Main from \"./pages/Main/Main\";\r\nimport MovieDetails from \"./MovieDetail\";\r\nimport List from \"./List\";\r\n\r\nfunction Movie({ moviecd, title, audiCnt, rank }) {\r\n  const [showDetails, setShowDetails] = useState(false);\r\n  const [previousPage, setPreviousPage] = useState(null);\r\n\r\n  const handleShowDetails = () => {\r\n    setPreviousPage(window.location.pathname); // 현재 페이지 경로를 저장\r\n    setShowDetails(true);\r\n  };\r\n\r\n  const handleGoBack = () => {\r\n    setShowDetails(false);\r\n    setPreviousPage(null);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handlePopState = () => {\r\n      if (showDetails && previousPage) {\r\n        setShowDetails(false);\r\n        setPreviousPage(null);\r\n      }\r\n    };\r\n\r\n    window.addEventListener(\"popstate\", handlePopState);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"popstate\", handlePopState);\r\n    };\r\n  }, [showDetails, previousPage]);\r\n\r\n  return (\r\n    <div id=\"div1\">\r\n      {!showDetails && (\r\n        <>\r\n          <h2>영화제목: {title} {moviecd}</h2>\r\n          <h4>관객수: {audiCnt}, 일간 박스오피스 랭킹: {rank}</h4>\r\n          <button onClick={handleShowDetails}>상세정보</button>\r\n        </>\r\n      )}\r\n\r\n      {showDetails && (\r\n        <>\r\n          <MovieDetails movieId={moviecd} />\r\n          <button onClick={handleGoBack}>뒤로가기</button>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Movie;\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD;AACA;AACA;AACA,OAAOC,YAAY,MAAM,eAAe;AACxC,OAAOC,IAAI,MAAM,QAAQ;AAEzB,SAASC,KAAKA,CAAC;EAAEC,OAAO;EAAEC,KAAK;EAAEC,OAAO;EAAEC;AAAK,CAAC,EAAE;EAChD,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACW,YAAY,EAAEC,eAAe,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EAEtD,MAAMa,iBAAiB,GAAGA,CAAA,KAAM;IAC9BD,eAAe,CAACE,MAAM,CAACC,QAAQ,CAACC,QAAQ,CAAC,CAAC,CAAC;IAC3CN,cAAc,CAAC,IAAI,CAAC;EACtB,CAAC;EAED,MAAMO,YAAY,GAAGA,CAAA,KAAM;IACzBP,cAAc,CAAC,KAAK,CAAC;IACrBE,eAAe,CAAC,IAAI,CAAC;EACvB,CAAC;EAEDX,SAAS,CAAC,MAAM;IACd,MAAMiB,cAAc,GAAGA,CAAA,KAAM;MAC3B,IAAIT,WAAW,IAAIE,YAAY,EAAE;QAC/BD,cAAc,CAAC,KAAK,CAAC;QACrBE,eAAe,CAAC,IAAI,CAAC;MACvB;IACF,CAAC;IAEDE,MAAM,CAACK,gBAAgB,CAAC,UAAU,EAAED,cAAc,CAAC;IAEnD,OAAO,MAAM;MACXJ,MAAM,CAACM,mBAAmB,CAAC,UAAU,EAAEF,cAAc,CAAC;IACxD,CAAC;EACH,CAAC,EAAE,CAACT,WAAW,EAAEE,YAAY,CAAC,CAAC;EAE/B,oBACEZ,KAAA,CAAAsB,aAAA;IAAKC,EAAE,EAAC,MAAM;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACX,CAACnB,WAAW,iBACXV,KAAA,CAAAsB,aAAA,CAAAtB,KAAA,CAAA8B,QAAA,qBACE9B,KAAA,CAAAsB,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,4BAAM,EAACtB,KAAK,EAAC,GAAC,EAACD,OAAY,CAAC,eAChCN,KAAA,CAAAsB,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,sBAAK,EAACrB,OAAO,EAAC,8DAAe,EAACC,IAAS,CAAC,eAC5CT,KAAA,CAAAsB,aAAA;IAAQS,OAAO,EAAEjB,iBAAkB;IAAAU,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,0BAAY,CAChD,CACH,EAEAnB,WAAW,iBACVV,KAAA,CAAAsB,aAAA,CAAAtB,KAAA,CAAA8B,QAAA,qBACE9B,KAAA,CAAAsB,aAAA,CAACnB,YAAY;IAAC6B,OAAO,EAAE1B,OAAQ;IAAAkB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eAClC7B,KAAA,CAAAsB,aAAA;IAAQS,OAAO,EAAEb,YAAa;IAAAM,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,0BAAY,CAC3C,CAED,CAAC;AAEV;AAEA,eAAexB,KAAK"},"metadata":{},"sourceType":"module"}