{"ast":null,"code":"var _jsxFileName = \"/Users/simsujeong/Desktop/BUWebProgramGroup5-test/src/Movie.js\";\nimport React, { useState, useEffect } from \"react\";\nimport PropTypes from 'prop-types';\nimport Info from \"./Info\";\nimport Main from \"./pages/Main/Main\";\nimport MovieDetails from \"./MovieDetail\";\nfunction Movie({\n  moviecd,\n  title,\n  audiCnt,\n  rank\n}) {\n  const [showDetails, setShowDetails] = useState(false);\n  const [previousPage, setPreviousPage] = useState(null);\n  const handleShowDetails = () => {\n    setPreviousPage(window.location.pathname); // 현재 페이지 경로를 저장\n    setShowDetails(true);\n  };\n  const handleGoBack = () => {\n    setShowDetails(false);\n    setPreviousPage(null);\n  };\n  useEffect(() => {\n    const handlePopState = () => {\n      if (showDetails && previousPage) {\n        setShowDetails(false);\n        setPreviousPage(null);\n      }\n    };\n    window.addEventListener(\"popstate\", handlePopState);\n    return () => {\n      window.removeEventListener(\"popstate\", handlePopState);\n    };\n  }, [showDetails, previousPage]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }\n  }, !showDetails && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 11\n    }\n  }, \"\\uC601\\uD654\\uC81C\\uBAA9: \", title, \" \", moviecd), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }\n  }, \"\\uAD00\\uAC1D\\uC218: \", audiCnt, \", \\uC77C\\uAC04 \\uBC15\\uC2A4\\uC624\\uD53C\\uC2A4 \\uB7AD\\uD0B9: \", rank), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleShowDetails,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }\n  }, \"\\uC0C1\\uC138\\uC815\\uBCF4\")), showDetails && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MovieDetails, {\n    movieId: moviecd,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleGoBack,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }, \"\\uB4A4\\uB85C\\uAC00\\uAE30\")));\n}\nexport default Movie;","map":{"version":3,"names":["React","useState","useEffect","PropTypes","Info","Main","MovieDetails","Movie","moviecd","title","audiCnt","rank","showDetails","setShowDetails","previousPage","setPreviousPage","handleShowDetails","window","location","pathname","handleGoBack","handlePopState","addEventListener","removeEventListener","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Fragment","onClick","movieId"],"sources":["/Users/simsujeong/Desktop/BUWebProgramGroup5-test/src/Movie.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport Info from \"./Info\";\r\nimport Main from \"./pages/Main/Main\";\r\nimport MovieDetails from \"./MovieDetail\";\r\n\r\nfunction Movie({ moviecd, title, audiCnt, rank }) {\r\n  const [showDetails, setShowDetails] = useState(false);\r\n  const [previousPage, setPreviousPage] = useState(null);\r\n\r\n  const handleShowDetails = () => {\r\n    setPreviousPage(window.location.pathname); // 현재 페이지 경로를 저장\r\n    setShowDetails(true);\r\n  };\r\n\r\n  const handleGoBack = () => {\r\n    setShowDetails(false);\r\n    setPreviousPage(null);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handlePopState = () => {\r\n      if (showDetails && previousPage) {\r\n        setShowDetails(false);\r\n        setPreviousPage(null);\r\n      }\r\n    };\r\n\r\n    window.addEventListener(\"popstate\", handlePopState);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"popstate\", handlePopState);\r\n    };\r\n  }, [showDetails, previousPage]);\r\n\r\n  return (\r\n    <div>\r\n      {!showDetails && (\r\n        <>\r\n          <h2>영화제목: {title} {moviecd}</h2>\r\n          <h4>관객수: {audiCnt}, 일간 박스오피스 랭킹: {rank}</h4>\r\n          <button onClick={handleShowDetails}>상세정보</button>\r\n        </>\r\n      )}\r\n\r\n      {showDetails && (\r\n        <>\r\n          <MovieDetails movieId={moviecd} />\r\n          <button onClick={handleGoBack}>뒤로가기</button>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Movie;\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,SAAS,MAAM,YAAY;AAClC,OAAOC,IAAI,MAAM,QAAQ;AACzB,OAAOC,IAAI,MAAM,mBAAmB;AACpC,OAAOC,YAAY,MAAM,eAAe;AAExC,SAASC,KAAKA,CAAC;EAAEC,OAAO;EAAEC,KAAK;EAAEC,OAAO;EAAEC;AAAK,CAAC,EAAE;EAChD,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGZ,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACa,YAAY,EAAEC,eAAe,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EAEtD,MAAMe,iBAAiB,GAAGA,CAAA,KAAM;IAC9BD,eAAe,CAACE,MAAM,CAACC,QAAQ,CAACC,QAAQ,CAAC,CAAC,CAAC;IAC3CN,cAAc,CAAC,IAAI,CAAC;EACtB,CAAC;EAED,MAAMO,YAAY,GAAGA,CAAA,KAAM;IACzBP,cAAc,CAAC,KAAK,CAAC;IACrBE,eAAe,CAAC,IAAI,CAAC;EACvB,CAAC;EAEDb,SAAS,CAAC,MAAM;IACd,MAAMmB,cAAc,GAAGA,CAAA,KAAM;MAC3B,IAAIT,WAAW,IAAIE,YAAY,EAAE;QAC/BD,cAAc,CAAC,KAAK,CAAC;QACrBE,eAAe,CAAC,IAAI,CAAC;MACvB;IACF,CAAC;IAEDE,MAAM,CAACK,gBAAgB,CAAC,UAAU,EAAED,cAAc,CAAC;IAEnD,OAAO,MAAM;MACXJ,MAAM,CAACM,mBAAmB,CAAC,UAAU,EAAEF,cAAc,CAAC;IACxD,CAAC;EACH,CAAC,EAAE,CAACT,WAAW,EAAEE,YAAY,CAAC,CAAC;EAE/B,oBACEd,KAAA,CAAAwB,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACG,CAAClB,WAAW,iBACXZ,KAAA,CAAAwB,aAAA,CAAAxB,KAAA,CAAA+B,QAAA,qBACE/B,KAAA,CAAAwB,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,4BAAM,EAACrB,KAAK,EAAC,GAAC,EAACD,OAAY,CAAC,eAChCR,KAAA,CAAAwB,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,sBAAK,EAACpB,OAAO,EAAC,8DAAe,EAACC,IAAS,CAAC,eAC5CX,KAAA,CAAAwB,aAAA;IAAQQ,OAAO,EAAEhB,iBAAkB;IAAAS,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,0BAAY,CAChD,CACH,EAEAlB,WAAW,iBACVZ,KAAA,CAAAwB,aAAA,CAAAxB,KAAA,CAAA+B,QAAA,qBACE/B,KAAA,CAAAwB,aAAA,CAAClB,YAAY;IAAC2B,OAAO,EAAEzB,OAAQ;IAAAiB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eAClC9B,KAAA,CAAAwB,aAAA;IAAQQ,OAAO,EAAEZ,YAAa;IAAAK,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,0BAAY,CAC3C,CAED,CAAC;AAEV;AAEA,eAAevB,KAAK"},"metadata":{},"sourceType":"module"}